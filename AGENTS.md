# Repository Guidelines

## Project Structure & Module Organization
- `src/content/`: content-script entrypoint and GitHub DOM observers.
- `src/parser/`: CSV parsing and unified diff parsing logic.
- `src/renderer/`: table rendering and inline cell diff utilities.
- `src/styles/`: extension UI styles (for injected diff tables).
- `example/`: sample CSV files for local verification.
- `manifest.json`: Chrome extension manifest (MV3), wired to `src/content/index.ts`.
- `dist/`: build output generated by Vite; do not hand-edit.

## Build, Test, and Development Commands
- `npm run dev`: runs `vite build --watch` for iterative extension development.
- `npm run build`: creates a production bundle in `dist/`.
- Load `dist/` in `chrome://extensions` (Developer mode, "Load unpacked") to validate behavior in GitHub PRs.
- Optional browser validation: `playwright-cli open --extension`.

## Coding Style & Naming Conventions
- Language: TypeScript with `strict` mode enabled (`tsconfig.json`).
- Formatting patterns used in source:
  - 2-space indentation.
  - Semicolons.
  - Double quotes for strings/imports.
- Naming:
  - `camelCase` for variables/functions.
  - `PascalCase` for types/interfaces.
  - `kebab-case` for CSS class names.
- Keep modules focused (parser vs renderer vs content responsibilities).

## Testing Guidelines
- No automated test suite is configured yet (`package.json` has no `test` script).
- Validate changes by:
  - running `npm run build` with no TypeScript/Vite errors,
  - loading the unpacked extension,
  - checking CSV diffs in GitHub PR "Files changed" view.
- When adding tests later, place them near modules (for example `src/parser/*.test.ts`).

## Commit & Pull Request Guidelines
- Follow the existing commit style: concise, imperative subject lines (for example `Fix toggle button placement`).
- Keep each commit focused on a single behavior or refactor.
- PRs should include:
  - what changed and why,
  - before/after screenshots for UI changes,
  - manual verification steps (GitHub PR URL pattern and CSV sample used),
  - linked issue or context when available.
